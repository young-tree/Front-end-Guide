### 1.杂项补充

- 目录结构的划分：<img src="images/image-20221027142344575.png" alt="image-20221027142344575" style="zoom:50%;" />
- 重置css：normalize.css

### 2.路由的集成

- 安装路由：pnpm add react-router-dom
- 配置文件中的类型：<img src="images/image-20221027143907951.png" alt="image-20221027143907951" style="zoom:50%;" />
- 使用配置文件：<img src="images/image-20221027144009913.png" alt="image-20221027144009913" style="zoom:50%;" />
- 指定使用HashRouter：<img src="images/image-20221027144208046.png" alt="image-20221027144208046" style="zoom:50%;" />

### 3.组件的使用

- 直接对props进行类型约束：<img src="images/image-20221027151952027.png" alt="image-20221027151952027" style="zoom:50%;" />
- 第二种写法：<img src="images/image-20221027152543129.png" alt="image-20221027152543129" style="zoom:50%;" />
  - 简写：<img src="images/image-20221027152618070.png" alt="image-20221027152618070" style="zoom:50%;" />
- 插槽：<img src="images/image-20221027152825222.png" alt="image-20221027152825222" style="zoom:50%;" />这种方式是通过children获取的：<img src="images/image-20221027152943134.png" alt="image-20221027152943134" style="zoom:50%;" />
- 最终写法：<img src="images/image-20221027153108496.png" alt="image-20221027153108496" style="zoom:50%;" />如果你要指定一些需要传的属性，再写props也不为迟晚

### 4.路由懒加载问题

- 路由的懒加载不说了，我们这里要说的是，在使用路由懒加载的后，需要使用Suspense组件，在哪使用的问题：<img src="images/image-20221027153509833.png" alt="image-20221027153509833" style="zoom: 50%;" />在这使用即可
- 二级路由需要使用Outlet组件进行占位：<img src="images/image-20221027153719327.png" alt="image-20221027153719327" style="zoom:50%;" />
- 二级路由存在的问题，当我们切换某个二级路由时，整个二级路由也在跟着闪烁，因为之前设置的Suspense的原因，如何解决呢？为Outlet组件包裹一个Suspense即可：<img src="images/image-20221027153929934.png" alt="image-20221027153929934" style="zoom:67%;" />

### 5.redux

- 安装：pnpm add @reduxjs/toolkit react-redux
- 给useSelector指定类型：<img src="images/image-20221027165945415.png" alt="image-20221027165945415" style="zoom:50%;" />
  - 在组件中使用：<img src="images/image-20221027170104630.png" alt="image-20221027170104630" style="zoom:50%;" />
- 给useDispatch指定类型：<img src="images/image-20221027170722758.png" alt="image-20221027170722758" style="zoom:50%;" />
  - 在组件中使用：<img src="images/image-20221027170753281.png" alt="image-20221027170753281" style="zoom:50%;" />

### 6.类型讲解

![image-20221027171032582](images/image-20221027171032582.png)

- 这个类型到底是怎么回事呢？
- 首先要明白一下这段代码：<img src="images/image-20221027171310418.png" alt="image-20221027171310418" style="zoom:50%;" />
  - IFnCall定义了一个函数签名，要求foo这个函数在调用时，必须传入两个参数，且foo这个函数在被调用后返回字符串类型的值
  - 第一个参数要求是函数类型，且必须返回字符串类型的值，第二个参数要求传入一个number类型的值
- 请问`<TWhy>`是啥：<img src="images/image-20221027171710804.png" alt="image-20221027171710804" style="zoom:50%;" />
  - 它是一个泛型，当foo在被调用时需要由你来传入一个类型，比如这样：<img src="images/image-20221027171826485.png" alt="image-20221027171826485" style="zoom:50%;" />
  - 比如你这么写：<img src="images/image-20221027171940348.png" alt="image-20221027171940348" style="zoom:50%;" />第一个参数必须返回一个string类型的值
  - 如果我不传呢？它会类型推断，我们在调用foo时，第一个参数是不是返回aaa啊，它是一个字符串类型
  - 所以会推导出<img src="images/image-20221027172117822.png" alt="image-20221027172117822" style="zoom:50%;" />红框中的TWhy是一个string类型，继而没有被红框圈起来的也是string类型
  - 我们有改了代码：<img src="images/image-20221027172239868.png" alt="image-20221027172239868" style="zoom:50%;" />，此时要求foo的返回值类型比如和第一个参数的返回值类型一样
  - 我们回头看一下useAppSelector的使用：<img src="images/image-20221027172825587.png" alt="image-20221027172825587" style="zoom:50%;" />
    - useAppSelector的返回值类型，必须和你写的第一个参数的返回值类型一致，所以才会有提示呀
- foo：<img src="images/image-20221027172442711.png" alt="image-20221027172442711" style="zoom:50%;" />这么写不行，foo的返回值类型必须要和第一个参数的返回值类型一样，所以要这么写：<img src="images/image-20221027172531814.png" alt="image-20221027172531814" style="zoom:50%;" />


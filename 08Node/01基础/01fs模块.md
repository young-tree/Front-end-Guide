### 1.开发node没有提示

- 安装类型：npm install @types/node
- 在当前目录下执行tsc --init生成tsconfig.json文件
- 在tsconfig.json文件中加上红框中的内容：<img src="images/image-20221110132211793.png" alt="image-20221110132211793" style="zoom:50%;" />
- 然后创建ts文件：<img src="images/image-20221110132712565.png" alt="image-20221110132712565" style="zoom: 50%;" />
  - 使用es module就可以出现提示了
  - 运行代码要使用ts-node
- 但是这肯定不是最优方案，因为我看老师的什么都没做就可以有提示

### 2.读取文件

- fs是File System的缩写，表示文件系统
- 同步读取文件：<img src="images/image-20221110153741955.png" alt="image-20221110153741955" style="zoom:50%;" />
  - 当第三行有结果了才会执行第四行第五行：<img src="images/image-20221110153840835.png" alt="image-20221110153840835" style="zoom:50%;" />
  - 我在abc.txt文件中写的内容是abc所以打印Buffer格式下的61、62、63
  - 正好对应ascii码中的abc：<img src="images/image-20221110154052892.png" alt="image-20221110154052892" style="zoom:50%;" />，具体Buffer相关概念后面再说
  - 当然我们现在无法直接看出来你这里的61、62、63代表什么，有两种方式可以对其进行查看
    - 方式一：调用结果的toString方法：<img src="images/image-20221110154411634.png" alt="image-20221110154411634" style="zoom:50%;" />
    - 方式二：传递第二个参数：<img src="images/image-20221110154502186.png" alt="image-20221110154502186" style="zoom:50%;" />

- 异步读取文件（传入回调函数的方式）：<img src="images/image-20221110155314112.png" alt="image-20221110155314112" style="zoom:50%;" />
  - 第一个打印Buffer，第二个打印abc
- 异步读取文件（Promise的方式）：<img src="images/image-20221110155830954.png" alt="image-20221110155830954" style="zoom:50%;" />
  - 当然捕获异常肯定是在catch中，不多说

### 3.文件描述符

- 每一个打开的文件都会被分配一个数字，这个数字就是文件描述符，fd（file descriptors）
- 操作系统中就维护着这样一个表，使用这些文件描述符来标识和跟踪特定的文件
- 拿到文件描述符：<img src="images/image-20221110172623066.png" alt="image-20221110172623066" style="zoom:50%;" />，打印3
- 有啥用呢？可以通过这个文件描述符读取这个文件：<img src="images/image-20221110172921617.png" alt="image-20221110172921617" style="zoom:50%;" />
- 当然获取文件描述符主要是用来获取文件的信息：<img src="images/image-20221110173249128.png" alt="image-20221110173249128" style="zoom:50%;" />
  - 打印结果：<img src="images/image-20221110173412913.png" alt="image-20221110173412913" style="zoom:50%;" />
    - size：文件中存储内容的大小，这里是3个字节
    - atime：访问时间（access time）访问文件就会更新
    - mtime：修改时间（modify time）更改文件的内容就会更新
    - ctime：状态修改时间（change time）更改文件任何属性就会更新，比如更改内容，权限，类型等
    - birthtime：创建时间
    - 这些时间都是零时区
- 我们现在是手动打开了abc.txt这个文件，需要手动关闭这个文件：<img src="images/image-20221110174023938.png" alt="image-20221110174023938" style="zoom:50%;" />
  - 手动关闭是需要传入文件描述符的

### 4.写入文件

- 将文件中的所有内容全部替换掉：<img src="images/image-20221110180232134.png" alt="image-20221110180232134" style="zoom:50%;" />
  - 无论文件中有多少内容，执行完这段代码，文件中就只剩ccc了
- flag选项
  - w：打开文件并写入内容，如果文件不存在，则创建文件，默认值
  - w+：打开文件进行读写，如果文件不存在，则创建文件
    - 无论是w还是w+都会把之前的内容进行覆盖
  - r：打开文件读取文件中的内容，读取时的默认值
  - r+：打开文件并进行读写，如果文件不存在，则抛出异常
    - 如果你想在中间插入内容，需要使用这里的r+
  - a：打开要写入的文件，将流放在文件末尾，如果不存在，则创建文件
  - a+：打开文件并进行读写，将流放在文件末尾，如果不存在，则创建文件
    - a是append的意思，追加到内容后面

### 5.创建和读取文件夹

- 创建文件夹：<img src="images/image-20221111092755722.png" alt="image-20221111092755722" style="zoom:50%;" />
- 读取文件夹，我现在有一个较为复杂的目录，如右图所示：<img src="images/image-20221111093001065.png" alt="image-20221111093001065" style="zoom:50%;" />
  - 读取文件夹的代码：<img src="images/image-20221111093409081.png" alt="image-20221111093409081" style="zoom:50%;" />，结果：<img src="images/image-20221111093433570.png" alt="image-20221111093433570" style="zoom:50%;" />
  - 你会发现它给到我们的是一个数组，但是我们需要知道你的每一项是一个文件夹还是一个文件
- 读取文件夹的同时获取每一项的信息：<img src="images/image-20221111093812921.png" alt="image-20221111093812921" style="zoom:50%;" />
  - 结果：<img src="images/image-20221111093827845.png" alt="image-20221111093827845" style="zoom:50%;" />
  - 但是这样还不够，需要遍历这个数组并做出判断：<img src="images/image-20221111095213056.png" alt="image-20221111095213056" style="zoom:50%;" />
    - 结果：<img src="images/image-20221111095230694.png" alt="image-20221111095230694" style="zoom:50%;" />
- 这里很明显需要使用递归才能拿到到每一个文件：<img src="images/image-20221111095736352.png" alt="image-20221111095736352" style="zoom:50%;" />

### 6.重命名文件夹或文件

- 重命名文件夹：<img src="images/image-20221111100120983.png" alt="image-20221111100120983" style="zoom:50%;" />
  - 将yt文件夹重命名为ytree
- 重命名文件：<img src="images/image-20221111100143286.png" alt="image-20221111100143286" style="zoom:50%;" />
  - 将yyy.txt文件重命名为ttt.txt文件
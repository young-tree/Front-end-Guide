### 1.基本语法

```html
<script setup lang="ts">
import { ref } from "vue"
const isShow = ref(false)
</script>

<template>
  <div class="home">
    <button @click="isShow = !isShow">切换</button>

    <transition>
      <h2 v-show="isShow">123</h2>
    </transition>
  </div>
</template>

<style scoped lang="less">
.v-enter-from, .v-leave-to { opacity: 0 }
.v-enter-to, .v-leave-from { opacity: 1 }

.v-enter-active, .v-leave-active { transition: all 600ms ease }
</style>
```

```css
.v-enter-active { animation: anim 2s ease }
.v-leave-active { animation: anim 2s ease reverse }

@keyframes anim {
  0% { opacity: 0 }
  50% { opacity: 0.5 }
  100% { opacity: 1 }
}
```

### 2.transition内置组件上的属性

- name="yt"：指定名字
  - 比如.v-enter-active变成.yt-enter-active
- type="animation"：以哪个动画的时间为基准
- duration
  - :duration="1000"：动画时间为1秒
  - :duration="{enter: 800, leave: 1000}"：进入动画为0.8秒，离开动画为1秒
- mode：两个元素来回切换
  - mode="out-in"：主要使用这个值
  - mode="in-out"
- appear：初次渲染

### 3.transition-group内置组件特点

- mode属性无法使用
- 通过tag属性指定根标签
- 内部元素需要一个唯一的key

### 4.案例

```html
<script setup lang="ts">
import { ref } from "vue"

const arr = ref([0, 1, 2, 3, 4, 5])

const addNum = () => arr.value.splice(1, 0, 5)
const delNum = () => arr.value.splice(3, 1)
</script>

<template>
  <div class="home">
    <button @click="addNum">添加数字</button>
    <button @click="delNum">删除数字</button>

    <transition-group tag="div">
      <template v-for="item in arr" :key="item">
        <div>{{item}}</div>
      </template>
    </transition-group>
  </div>
</template>

<style scoped lang="less">
.v-enter-from, .v-leave-to {
  transform: translateX(100px);
  opacity: 0;
}
.v-enter-to, .v-leave-from {
  transform: translateX(0);
  opacity: 1;
}

.v-enter-active, .v-leave-active, .v-move {
  transition: all 2s ease;
}
.v-leave-active {
  position: absolute;
}
</style>
```

- 可能会遇到的问题：没有动画 -> 元素可能是行内级元素，改成行内块级即可
- 一定会遇到的问题：删除数字时，其他动画僵硬 -> 为离开活跃类添加position: absolute;样式
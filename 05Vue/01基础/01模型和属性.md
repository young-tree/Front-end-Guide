### 1.计数器

```html
<!-- 原生实现计数器(命令式编程) -->
<button class="decrement">-1</button>
<h2>0</h2>
<button class="increment">+1</button>

<script>
  const btnDe = document.querySelector(".decrement");
  const btnIn = document.querySelector(".increment");
  const h2 = document.querySelector("h2");

  let counter = 0;

  btnDe.addEventListener("click", () => {
    h2.textContent = --counter;
  });

  btnIn.addEventListener("click", () => {
    h2.textContent = ++counter;
  });
</script>

<!-- Vue实现计数器(声明式编程) -->
<div id="app">
  <button @click="decrement">-1</button>
  <h2>{{counter}}</h2>
  <button @click="increment">+1</button>
</div>

<script src="../lib/Vue.js"></script>
<script>
  Vue.createApp({
    data() {
      return {
        counter: 0
      }
    },
    methods: {
      decrement() {
        this.counter--
      },
      increment() {
        this.counter++
      }
    }
  }).mount("#app");
</script>
```

### 2.MVC和MVVM

- MVC

  - M：model

    ```js
    let counter = 0;
    ```

  - V：view

    ```html
    <button class="decrement">-1</button>
    <h2>0</h2>
    <button class="increment">+1</button>
    ```

  - C：controler

    ```js
    const btnDe = document.querySelector(".decrement");
    const btnIn = document.querySelector(".increment");
    const h2 = document.querySelector("h2");
    
    let counter = 0;
    
    btnDe.addEventListener("click", () => {
      h2.textContent = --counter;
    });
    
    btnIn.addEventListener("click", () => {
      h2.textContent = ++counter;
    });
    ```

  - M就是我们定义的数据，V就是视图，C就是控制器，比如进行各种DOM操作

- MVVM

  - M：model

    ```js
    data() {
      return {
        counter: 0
      }
    },
    ```

    - data中的数据

  - V：view

    ```html
    <div id="app">
      <button @click="decrement">-1</button>
      <h2>{{counter}}</h2>
      <button @click="increment">+1</button>
    </div>
    ```

    - 视图

  - VM：ViewModel

    ```js
    Vue.createApp({
      data() {
        return {
          counter: 0
        }
      },
      methods: {
        decrement() {
          this.counter--
        },
        increment() {
          this.counter++
        }
      }
    }).mount("#app");
    ```

    - 将model中的数据绑定到视图（view）中
    - 将view中的DOM监听传给model

  - M就是数据，V就是视图，VM就像是一个黑匣子，我们知道它能够帮助我们绑定数据以及进行DOM操作，但是我们并不能直观的看到它具体是怎么做的，这个VM在vue中就是代表Vue

### 3.data

- data属性必须是一个函数，且必须返回一个对象
- data中返回的对象会被Vue的响应式系统劫持，之后对该对象的修改或者访问都会在劫持中被处理
  - 劫持是通过new一个Proxy代理对象和Reflect对象实现的，学过，不过多介绍，响应式原理
  - 这样我们才能通过{{counter}}这样的插值语法对数据进行访问
  - 当我们修改counter后，模板中的插值语法才会随之发生变化

### 4.methods

- methods是一个对象
- 我们会在这个对象中定义很多的方法
  - 这些方法可以被绑定到模板中
  - 在该方法中，我们可以使用this关键字来直接访问data中返回对象中的属性
- methods对象中的函数不能是箭头函数，因为箭头函数的this指向父级作用域
- 不使用箭头函数this指向proxy代理对象
### 1.自主轮播

```html
<style>
  body, div, img {
    padding: 0;
    margin: 0;
  }
  img {
    vertical-align: top;
  }
  .rotationWrap, img {
    width: 605px;
    height: 300px;
  }
  .rotationWrap {
    margin: 0 auto;
    background-color: red;
    overflow: hidden;
    height: auto;
  }
  .rotationWrap > .imgWrap {
    display: flex;
    transition: all 500ms ease;
  }

  .rotationWrap > .options {
    display: flex;
    background-color: #000;
    color: white;
    font-size: 12px;
    height: 44px;
  }
  .rotationWrap > .options .item {
    flex: 1;
    text-align: center;
    height: 44px;
    line-height: 44px;
    cursor: pointer;
  }
  .rotationWrap > .options .item:hover,
  .rotationWrap > .options .item.active {
    color: orange;
  }
</style>

<div class="rotationWrap">
  <div class="imgWrap">
    <img src="./img/banner_01.jpeg" alt="01">
    <img src="./img/banner_02.jpeg" alt="02">
    <img src="./img/banner_03.jpeg" alt="03">
    <img src="./img/banner_04.jpeg" alt="04">
    <img src="./img/banner_05.jpeg" alt="05">
  </div>
  <div class="options">
    <div class="item active">源梦新皮肤</div>
    <div class="item">520皮肤动画</div>
    <div class="item">电竞解说公开课</div>
    <div class="item">天赐快手语音包</div>
    <div class="item">王者萌萌假日</div>
  </div>
</div>

<script>
  const rotationWrapEl = document.querySelector(".rotationWrap");
  const imgWrap = document.querySelector(".imgWrap");
  const optionsEl = document.querySelector(".options");

  let itemActiveEl = optionsEl.querySelector(".active");
  let counter = 0;
  let setIntervalId = 0;

  optionsEl.addEventListener("mouseover", (event) => {
    if (itemActiveEl === event.target || event.target === optionsEl) return;
    counter = [...optionsEl.children].findIndex(item => event.target === item);
    switchImg();
  });

  rotationWrapEl.addEventListener("mouseenter", () => {
    clearInterval(setIntervalId);
  });
  rotationWrapEl.addEventListener("mouseleave", () => {
    time();
  });

  time();
  function time() {
    setIntervalId = setInterval(function() {
      switchImg();
      if (++counter >= 5) counter = 0;
    }, 1000);
  }

  function switchImg() {
    itemActiveEl.classList.remove("active");
    const counterEl = optionsEl.children[counter];
    counterEl.classList.add("active");
    itemActiveEl = counterEl;
    imgWrap.style.transform = `translate(-${605 * counter}px)`;
  }
</script>
```

### 2.默认轮播

```js
const rotationWrapEl = document.querySelector(".rotationWrap");
const imgWrap = document.querySelector(".imgWrap");
const imgEls = imgWrap.querySelectorAll("img");
const optionsEl = document.querySelector(".options");

let itemActiveEl = optionsEl.querySelector(".active");
let counter = 0;
let setIntervalId = 0;
let previousImg = 0
let aaa = true;

optionsEl.addEventListener("mouseover", (event) => {
  if (itemActiveEl === event.target || event.target === optionsEl) return;
  previousImg = counter;
  counter = [...optionsEl.children].findIndex(item => event.target === item);
  imgEls[counter].addEventListener("transitionend", () => {
    aaa = true;
  });
  imgEls[counter].addEventListener("transitionstart", () => {
    aaa = false;
  });
  imgEls[counter].addEventListener("transitionrun", () => {
    aaa = false;
  });

  switchImg();
});

rotationWrapEl.addEventListener("mouseenter", () => {
  clearInterval(setIntervalId);
});
rotationWrapEl.addEventListener("mouseleave", () => {
  time();
});

time();
function time() {
  setIntervalId = setInterval(function() {
    previousImg = counter
    if (++counter >= 5) counter = 0;
    switchImg();
  }, 5000);
}

function switchImg() {
  itemActiveEl.classList.remove("active");
  const counterEl = optionsEl.children[counter];
  counterEl.classList.add("active");
  itemActiveEl = counterEl;


  // 假如进入第二个
  // 第一个left: -100%;
  // 第二个left: 0;
  // 其他left: 100%;
  if (aaa) {
    let imgElCount = 0
    for (const imgEl of imgEls) {
      if (imgElCount < counter) {
        imgEls[imgElCount].style.left = "-100%";
        if (previousImg !== imgElCount) {
          imgEls[imgElCount].style.transition = "none";
        } else {
          imgEls[counter].style.transition = "left 3000ms linear"
        }
      } else if (imgElCount === counter) {
        imgEls[counter].style.left = "0";
        imgEls[counter].style.transition = "left 3000ms linear"
      } else {
        imgEls[imgElCount].style.left = "100%";
        if (previousImg !== imgElCount) {
          imgEls[imgElCount].style.transition = "none";
        } else {
          imgEls[counter].style.transition = "left 3000ms linear"
        }
      }
      imgElCount++;
    }
  }
}
```


### 1.面向对象

- 面向对象是对现实的抽象

- 面向对象可以将多个相关联的数据封装到一起，来更好的描述一个事物

- 比如我们描述一辆车

  - 颜色（color）、速度（speed）、品牌（brand）、价格（price）、行驶状态（travel）

  - 但是我们不能直接描述

    ```js
    var carColor = "red";
    var carSpeed = 230;
    var carBrand = "audi";
    var carPrice = 239;
    function travel() {
      console.log("行驶中");
    };
    ```

    - 这个样子描述，我们并不能把它看作是一个整体，因为它的内聚性太差

  - 我们可以将它放到一个对象中

    ```js
    var car = {
      color: "red",
      speed: 230,
      brand: "audi",
      price: 239,
      travel: function() {
        console.log("正在行驶中");
      },
    };
    ```

- 其他事物也是同样的道理

- 用对象来描述事物，更有利于将现实事物，抽像成代码中的某个数据结构

  - 有一些语言就是纯面向对象的编程语言：Java
  - 如果你想把现实进行抽象，都需要先创建一个类，根据类再创建对象

- 面向对象：把现实的事物抽象成一个对象

### 2.JavaScript中的面向对象

- JavaScript支持多种编程范式：函数式编程、面向对象编程
- JavaScript中的对象被设计成一组属性的无序集合，像是一个哈希表，由key和value组成
  - key是一个标识符名称，value可以是任何类型，也可以是其他对象，或者函数

### 3.创建对象的方式

- 早期的js开发者一般都是这么创建（描述）一个对象，new Object();

  ```js
  var obj = new Object();
  obj.name = "yt";
  obj.age = 18;
  obj.running = function() {
    console.log("running");
  };
  ```

  - 因为JavaScript在早期都是Java程序员转来开发的

- 但是上面的创建太麻烦了，继而使用了字面量的形式

  ```js
  var obj = {
    name: "kobe",
    age: 40,
    running: function() {
      console.log("running");
    },
  };
  ```

### 4.对对象属性进行操作

```js
var obj = {
  name: "kobe",
  age: 40,
};
```

- 获取属性

  ```js
  console.log(obj.name);
  ```

- 给属性赋值

  ```js
  obj.name = "curry";
  ```

- 删除属性

  ```js
  delete obj.name;
  ```

### 5.限制操作属性

- 不允许某个属性被赋值
- 不允许某个属性被删除
- 不允许在遍历属性（for - in遍历）的时候，把某个属性遍历出来
- 如果我们想要对一个个属性进行比较精准的操作控制，那么我们可以使用属性描述符

### 6.Object.defineProperty();

- 第一个参数：对哪个对象进行操作（类型：对象类型）
- 第二个参数：对哪个属性进行操作（类型：字符串类型或Symbol类型）
- 第三个参数：属性描述符（类型：对象类型）
- 返回值：被传递过来的对象
- 它会修改原对象，所以不是一个纯函数

### 7.属性描述符的分类

|                | configurable | enumerable | writable | value  | get    | set    |
| -------------- | ------------ | ---------- | -------- | ------ | ------ | ------ |
| 数据属性描述符 | 可以         | 可以       | 可以     | 可以   | 不可以 | 不可以 |
| 存取属性描述符 | 可以         | 可以       | 不可以   | 不可以 | 可以   | 可以   |

- 数据属性描述符

  - configurable
    - true：可以delete某个属性，可以修改它的属性描述符，可以将它修改为存取属性描述符
    - false：不可以delete某个属性，不可以修改它的属性描述符，不可以将它修改为存取属性描述符
      - 这里不可以修改它的属性描述符的意思大概率是：不能修改configurable回true
      - 不对吧
    - 当我们直接在一个对象上定义一个属性时，configurable默认为true
    - 当我们通过属性描述符来定义一个属性时，configurable默认为false
  - enumerable
    - true：可以for - in遍历出对象的属性，可以通过Object.keys();返回对象的属性
    - false：不可以for - in遍历出对象的属性，不可以通过Object.keys();返回对象的属性
    - 当我们直接在一个对象上定义一个属性时，enumerable默认为true
    - 当我们通过属性描述符来定义一个属性时，enumerable默认为false
  - writable [ˈraɪtəbl] 
    - true：可以修改属性的值
    - false：不可以修改属性的值
    - 当我们直接在一个对象上定义一个属性时，writable默认为true
    - 当我们通过属性描述符来定义一个属性时，writable默认为false
  - value
    - 创建属性时会为这个属性赋值
    - 修改属性的值时会修改这个属性的值
  - 默认情况下这个值是：undefined
  
  ```js
  var obj = {
    name: "kobe",
    age: 40,
  };
  
  Object.defineProperty(obj, "height", {
    value: 1.88,
    configurable: true,
    enumerable: true,
    writable: true,
  });
  ```
  
- 存取属性描述符

  ```js
  var obj = {
    name: "kobe",
    age: 40,
    _height: 1.74  // 一般用_来表示私有
  };
  
  Object.defineProperty(obj, "height", {
    configurable: true,
    enumerable: true,
    get: function() {
      return this._height;
    },
    set: function(newValue) {
      this._height = newValue;
    }
  });
  
  console.log(obj.height);
  obj.height = 1.88;
  console.log(obj.height);
  ```

  - 隐藏某一个私有属性，不希望它直接被外界使用和赋值

  - 我们希望截获，访问或设置某个属性时，也会使用存取属性描述符

    - 我们希望每次执行get或者set的时候都执行一下foo这个函数

      ```js
      var obj = {
        name: "kobe",
        age: 40,
        _height: 1.74
      };
      
      Object.defineProperty(obj, "height", {
        configurable: true,
        enumerable: true,
        get: function() {
          foo();
          return this._height;
        },
        set: function(newValue) {
          this._height = newValue;
        }
      });
      
      console.log(obj.height);
      obj.height = 1.88;
      console.log(obj.height);
      function foo() {
        console.log(123);
      };
      ```


### 8.Object.defineProperties();

```js
var obj = {
  name: "kobe",
  age: 40,
};

Object.defineProperties(obj, {
  name: {
    configurable: true,
    enumerable: true,
    writable: true,
    value: "curry",
  },
  age: {
    configurable: true,
    enumerable: true,
    writable: true,
    value: 30,
  },
  height: {
    configurable: true,
    enumerable: true,
    writable: true,
    value: 1.88,
  },
});

console.log(obj);
```

### 9.set和get的另外一种写法

```js
var obj = {
  name: "kobe",
  _age: 40,
  set age(newValue) {
    this._age = newValue;
  },
  get age() {
    return this._age;
  },
};
console.log(obj.age);  // 40
obj.age = 20;
console.log(obj.age);  // 20
```


### 1.线程和进程理解

- 线程和进程是操作系统的两个概念
  - 操作系统：mac os、windows、linux
  - 操作系统是软件（应用程序）和硬件之间的一个桥梁
- 进程（process）：计算机已经运行的程序
  - 比如运行微信，就可以看作是一个进程
  - 运行vscode，也可以看作是一个进程
  - 当然有的应用程序运行起来需要多个进程，比如说浏览器的运行就是多进程的
- 线程（thread）：操作系统能够运行运算调度的最小单位
  - 每个进程至少要开一个线程
- 开启一个应用程序，就会开启一个进程，但是进程并不会运行具体的代码
  - 如果我们要运行代码，在进程里面必须至少启动一个线程，这个线程被称为：主线程
  - 当然一个进程一般会启动很多的线程，所以进程是线程的容器

### 2.操作系统的工作方式

- 我们为什么既能回着微信，又能听着歌，还能看球赛，计算机为什么可以同时做这么多的工作呢
- 这是因为CUP的运算速度非常快，它可以在多个进程之间来回切换
- 当进程中的线程获得时间片时，就可以快速的执行我们编写的代码
- 用户是完全感觉不到这种快速的切换过程

### 3.浏览器中的JS线程

- JS是单线程的，我们知道线程是包含在进程里的，那么这个JS线程应该有自己的容器的
- 如果你是在浏览器中运行JS代码，那么进程就是浏览器
- 如果你是在Node中运行JS代码，那么进程就是Node

### 4.为什么JS是单线程

- 首先它是运行在客户端的，运行在客户端，相对来说任务没有那么繁重

### 5.浏览器

- 浏览器是多进程的，每当我们打开一个新的页面时就会开启一个新的进程
- 这样做的目的是为了防止某一个页面卡死，其他页面也跟着卡死的问题出现，需要强制退出整个浏览器
- 每个进程中又会存在多个线程，其中就包括执行JS代码的线程

### 6.JS单线程所带来的的问题

- 由于JS是单线程，所以在同一时刻只能做一件事
- 如果这件事是极其耗时的，意味着当前线程就会被阻塞
- 阻塞就意味着，如果这件耗时的事做不完，那么这件耗时的事下面的代码就不会被执行

### 7.如何解决这个问题呢

- 我们只需要把JS代码中那些真正耗时的操作，交给另外一个线程来运行不就可以了吗？
- 由于浏览器的每个进程都是多线程的，那么我们就可以让其他线程来完成这些耗时的操作
- 比如网络请求，比如定时器
- 我们就让它们在另外的线程中运行，主线程和这些其他线程在同一时刻运行
- 当主线程需要它们的结果时，只需要执行回调即可

### 8.举一个例子

- 比如我们用axios.get()去获取某个数据，整个建立连接，发出请求，获取数据的过程就交给浏览器来处理吧
  - 最后我只需要获取它的回调就可以了
- 再比如计时器，2秒的一个计时器，JS把这个计时器给到浏览器
  - 浏览器等待了两秒告诉JS主线程：你再回来调用我里面的内容吧

- 但是浏览器怎么知道谁在前谁在后呢？
  - 这就引出了事件循环和事件队列的概念
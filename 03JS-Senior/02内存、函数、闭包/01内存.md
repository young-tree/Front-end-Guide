### 1.认识内存管理

- 无论是什么编程语言，在代码执行过程中都是需要给他分配内存的
- 有的编程语言需要我们自己手动的管理内存
- 有的编程语言可以自动的帮助我们管理内存

### 2.硬件的三个核心

- 磁盘/硬盘（固态硬盘或者机械硬盘）
- 内存
- CPU

### 3.代码的执行过程

- 代码存储在硬盘中，想要运行的时候，就会把代码加载到内存里面
- 再由CPU执行代码
- CPU执行代码的时候，会再从内存中开辟空间

### 4.内存管理的生命周期

- 第一步：申请和分配你需要的内存
- 第二步：使用分配的内存（在内存中存放一些东西，比如对象）
- 第三步：内存不再使用时，对其进行释放

### 5.不同语言的不同处理

- 手动管理：C、C++、早期的OC，这三个都需要手动管理内存的申请和释放（例如malloc和free函数）
- 自动管理：Java、JavaScript、Python、Swift、Dart等，他们都会自动的帮助我们管理内存

### 6.JS的内存管理

- JavaScript会在：定义变量时为我们分配内存
  - 在我们写变量、函数、对象时就已经在帮助我们分配内存了
- 但是内存的分配方式不一样
  - 对于基本数据类型的内存分配：在执行时直接在栈空间中进行分配
  - 对于复杂数据类型的内存存配：在堆内存中开辟一块空间

### 7.JS的垃圾回收

- 因为内存的大小是有限的，所以当内存不再需要的时候，我们需要对其进行释放，以便腾出更多空间
- 由于手动管理内存的方式比较低效，影响写代码的效率。并且对开发者要求比较高，容易造成内存泄漏
- 垃圾回收：Garbage Collection，简称：GC
- 对于那些不再使用的对象，我们都称之为：垃圾，他们需要被回收，以释放更多的空间
- java有JVM，js有垃圾回收器

### 8.GC常见算法

- 引用计数

  ```js
  var obj = { name: "why" };
  
  var info = { name: "kobe", friend: obj };
  
  var p = { name: "james", friend: obj };
  ```

  - info中的friend指向obj，p中的friend指向obj，还有一个是在栈内存中的obj指向obj
  - 所以总共计数为3
  - 当计数为0的时候，也就是obj如果没有被任何东西引用，就会被释放

- 引用计数的弊端：循环引用造成内存泄漏

  ```js
  var obj1 = { friend: obj2 };
  
  var obj2 = { friend: obj1 };
  ```

- 标记清除

  - 这个算法是设置一个根对象，垃圾回收器定期从这个根对象出发，找所有从根对象开始有被引用的对象，对于那些没有引用到的对象，就认为是不可用的对象


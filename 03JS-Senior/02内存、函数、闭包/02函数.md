### 1.在js中函数是一等公民

- 说函数是一等公民，意味着函数的使用是非常灵活的
- 函数可以作为另外一个函数的参数，也可以作为另外一个函数的返回值

- java把对象作为一等公民，对象可以作为函数的参数，也可以作为函数的返回值

### 2.函数作为参数使用

- 现在有一个calc函数（calculate：计算）

  ```js
  function calc(num1, num2) {}
  ```

  - calc这个函数要干嘛？是要对num1和num2进行加法、减法还是乘除呢？
  - 如果你想让它做加法运算，就不能进行其他运算。

- 我们想让它进行多种运算

  ```js
  function calc(num1, num2, calcFn) {
    console.log(calcFn(num1, num2));
  }
  
  function add(num1, num2) {
    return num1 + num2;
  };
  
  function sub(num1, num2) {
    return num1 - num2;
  };
  
  calc(1, 2, add);
  calc(1, 2, sub);
  ```

### 3.函数作为返回值使用

- 函数内部是可以定义函数的

  ```js
  function foo() {
    function bar() {}
  }
  ```

- 函数作为返回值

  ```js
  function foo() {
    function bar() {
      console.log("hello");
    };
  
    return bar;
  };
  
  var fn = foo();
  fn();
  ```

- 例子

  ```js
  function makeAdder(count) {
    return function add(num) {
      return count + num;
    };
  };
  
  var add5 = makeAdder(5);
  console.log(add5(6));
  console.log(add5(10));
  ```

  - 假如我还有：

    ```js
    var add10 = makeAdder(10);
    var add100 = makeAdder(100);
    ```

    - 每次调用add10的时候就是与10相加
    - 每次调用add100的时候就是与100相加

  - 这样我们是可以定制一些函数的

### 4.高阶函数

- 一个函数它接收另外一个函数作为参数，或者把一个函数作为返回值
- 那么这个函数就是高阶函数

### 5.函数和方法的区别

- 函数：独立的function

  ```js
  function foo() {}
  ```

- 方法：属于某个对象的函数

  ```js
  var obj = {
    foo: function() {}
  }
  ```

### 6.属于数组的方法

- 某个数组

  ```js
  var num = [10, 2, 1, 4, 3];
  ```

- filter方法（过滤）

  ```js
  num.filter()
  ```

  - 这个方法有两个要求
    - 传入的参数是一个函数
    - 传入的这个函数的返回值是一个布尔值

  ```js
  var newNum = num.filter((item, index, arr) => {
    return item % 2 === 0
  });
  
  console.log(newNum);
  ```

  - 因为数组有5项，所以filter总共会调用我们传入的函数5次
  - 如果返回的是true就会把这个值放入到新的数组中
  - 如果返回false就不会把值放到新的数组中

- map方法（映射）

  ```js
  var newNum = num.map((item) => {
    return item * 2;
  });
  
  console.log(newNum);
  ```

  - 把num数组中的每一项都乘以2，然后放到newNum数组中

- forEach方法（迭代）

  ```js
  num.forEach((item) => {
    console.log(item);
  });
  ```

  - 这个方法是没有返回值的
  - 一般是使用一下它，或者打印一下它

- reduce（累加、累乘）

  ```js
  var newNum = num.reduce((a, b) => {
    return a + b;
  }, 0);
  
  console.log(newNum);
  
  var newNum = num.reduce((a, b) => {
    return a * b;
  }, 1);
  
  console.log(newNum);
  ```

  - 第一次：0 + 10、1 * 10
  - 第二次：10 + 2、10 * 2
  - 第三次：12 + 1、20 * 1
  - 第四次：13 + 4、20 * 4
  - 第五次：17 + 3、80 * 3

- includes

  ```js
  var newNum = num.includes(0)
  
  console.log(newNum);
  ```

  - 存在返回true，不存在返回false

- find

  ```js
  var num = [10, 2, 1, 4, 3, 7, 29, 27];
  
  var newNum = num.find((item) => {
    return item === 4;
  })
  
  console.log(newNum);
  ```

  - 如果判断通过就返回判断的值
  - 这里返回4

  ```js
  var friend = [
    {name: "kobe", age: 30},
    {name: "james", age: 40},
    {name: "curry", age: 43},
  ];
  
  var friendName = friend.find((item) => {
    return item.name === "james";
  });
  
  console.log(friendName); // {name: "james", age: 40}
  ```

  - 如果查找不到就返回undefined
  
  
  ```js
  var friend = [
    {name: "kobe", age: 30},
    {name: "james", age: 40},
    {name: "curry", age: 43},
  ];
  
  var friendName = friend.findIndex((item) => {
    return item.name === "james";
  });
  
  console.log(friendName); // 1
  ```
  
  - 如果查找不到就返回-1

